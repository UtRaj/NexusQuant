# NexusQuant - Agentic Portfolio Intelligence Platform

NexusQuant is a production-grade, high-fidelity Simulation platform where specialized AI agents collaborate to manage multi-asset trading portfolios. It combines Large Language Models (LLMs) with deterministic quantitative finance to bridge the gap between "Alpha" and "Risk."

---

## üèóÔ∏è System Architecture

NexusQuant operates on a **Synchronized Portfolio Loop (SPL)**, decoupling strategic decision-making from mathematical execution.

```mermaid
graph TD
    A[Market Ingestion] --> B{Strategy Layer}
    B --> C[Quant Agent: Technical Analysis]
    B --> D[Analyst Agent: Macro LLM Sentiment]
    C --> E[Decision Arbiter]
    D --> E
    E --> F[Capital Allocator: Risk Parity]
    F --> G[Execution Engine: Rebalancing]
    G --> H[(PostgreSQL: State Persistence)]
    G --> I[Streamlit Dashboard]
```

### üß© Core Components
- **Advisory Layer**: Specialized agents (Groq-powered Analyst and RSI-based Quant) providing hybrid signals.
- **Decision Logic**: Advanced arbitration with EMA smoothing and signal conflict resolution.
- **Execution Engine**: Hardened multi-tick simulation loop with rebalancing thresholds.
- **Observability**: Real-time premium monitoring interface and automated PDF auditing.

---

## üöÄ LLMops & MLops Excellence

NexusQuant is designed with production reliability at its core:

- **Centralized LLM Mocking**: Cost-effective and deterministic testing suite using high-fidelity mock responses.
- **CI/CD Pipeline**: GitHub Actions automate integrity audits and push production-ready Docker images to GHCR.
- **Resilient Models**: Cross-database compatibility (PostgreSQL/SQLite) and robust JSON persistence.
- **High-Fidelity Auditing**: Automated PDF Integrity Reports generate an "Audit Ledger" for every simulation run.
- **NaN Fault Tolerance**: Engine-level protection against corrupted or missing market data feeds.

---

## üõ†Ô∏è Quick Start

### 1. Requirements
- Python 3.10+
- Docker & Docker Compose (Optional)
- Groq API Key (For live simulations)

### 2. Environment Setup
Create a `.env` file in the root directory:
```env
GROQ_API_KEY=your_key_here
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nexusquant
```

### 3. Run with Docker (Recommended)
```bash
docker-compose up --build
```
- **Dashboard**: `http://localhost:8501`
- **Database**: PostgreSQL on `localhost:5432`

---

## üß™ Simulation Integrity Audit

NexusQuant features a professional-grade test runner.

### Test Runner Commands
| Category | Command | Result |
| :--- | :--- | :--- |
| **Complete Audit** | `python tests/test_runner.py host all` | Full Pass + PDF Report |
| **Unit Tests** | `python tests/test_runner.py host unit` | Rapid logic validation |
| **Integration** | `python tests/test_runner.py host integration` | DB & Concurrency check |

### LLM Mocking in Tests
By default, all tests use **Mocked LLM Responses** to save costs. To run a test against the live Groq API, use the `live_api` marker:
```bash
pytest -m live_api tests/
```

---

## üõ°Ô∏è Stability & Observability
- **93% Code Coverage**: Core simulation and risk logic are fully exercised.
- **Pydantic V2 Integrity**: Strict configuration and schema validation.
- **SQLModel Persistence**: Type-safe relational management.
- **Continuous Deployment**: Automated build and push to GitHub Container Registry (GHCR).

---

## üìà Roadmap
- [ ] **Prompt Registry**: Decoupling LLM instructions for versioned prompt testing.
- [ ] **Infrastructure as Code**: Terraform templates for AWS/GCP deployment.
- [ ] **Multi-Model Support**: Integration with Anthropic and OpenAI for model-redundant arbitration.

---

*Generated by Antigravity - NexusQuant 3.0.0*
